{"version":3,"sources":["../../../../src/scripts/utlis/refresh/dbSuccess.js"],"names":["Refresh","storeName","randomAphorism","randomIndex","Math","ceil","random","getLength","getItem","_parseText","data","text","content","sentenceHandler","init","all","bind","part","clear"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;AAEA,IAAMA,UAAW,YAAM;AACrB,MAAMC,YAAY,UAAlB;;AAEA,WAASC,cAAT,GAA0B;AACxB,QAAMC,cAAcC,KAAKC,IAAL,CAAUD,KAAKE,MAAL,KAAgB,wBAAGC,SAAH,CAAaN,SAAb,CAA1B,CAApB;;AAEA,4BAAGO,OAAH,CAAWP,SAAX,EAAsBE,WAAtB,EAAmCM,UAAnC;AACD;;AAED,WAASA,UAAT,CAAoBC,IAApB,EAA0B;AACxB,QAAMC,OAAOD,KAAKE,OAAlB;;AAEA,sBAAQC,eAAR,CAAwBF,IAAxB;AACD;;AAED,SAAO;AACLG,UAAM,kBAAQA,IADT;AAELC,SAAK,kBAAQA,GAAR,CAAYC,IAAZ,CAAiB,IAAjB,EAAuBd,cAAvB,CAFA,EAEwC;AAC7Ce,UAAM,kBAAQA,IAAR,CAAaD,IAAb,CAAkB,IAAlB,EAAwBd,cAAxB,CAHD;AAILgB,WAAO,kBAAQA,KAJV;AAKLZ,YAAQJ;AALH,GAAP;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACD,CA7Be,EAAhB;;kBA+BeF,O","file":"dbSuccess.js","sourcesContent":["import DB from 'indexeddb-crud';\nimport General from './general';\n\nconst Refresh = (() => {\n  const storeName = 'aphorism';\n\n  function randomAphorism() {\n    const randomIndex = Math.ceil(Math.random() * DB.getLength(storeName));\n\n    DB.getItem(storeName, randomIndex, _parseText);\n  }\n\n  function _parseText(data) {\n    const text = data.content;\n\n    General.sentenceHandler(text);\n  }\n\n  return {\n    init: General.init,\n    all: General.all.bind(null, randomAphorism), // PUNCHLINE: use bind to pass paramter\n    part: General.part.bind(null, randomAphorism),\n    clear: General.clear,\n    random: randomAphorism,\n  };\n  // return {\n  //   init: General.init,\n  //   all: () => General.all(randomAphorism),\n  //   part: () => General.part(randomAphorism),\n  //   clear: General.clear,\n  //   random: randomAphorism,\n  // };\n})();\n\nexport default Refresh;\n"]}